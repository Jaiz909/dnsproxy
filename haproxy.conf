# Check the HAProxy documentation for information about the configuration keywords.
# Make sure to use (compile) the latest HAProxy version from the current development branch or some features may not work!
# Please see http://trick77.com/2014/03/01/tunlr-style-dns-unblocking-pandora-netflix-hulu-et-al/ for more information.
# *** THIS CONFIGURATION WILL NOT RUN WITHOUT PROPER MODIFICATION ***

global
  daemon
  maxconn 20000
  user haproxy
  group haproxy
  stats socket /var/run/haproxy.sock mode 0600 level admin
  log /dev/log  local0 debug
  pidfile /var/run/haproxy.pid
  spread-checks 5

defaults
  maxconn 19500
  log global
  mode http
  option httplog
  option abortonclose
  option http-server-close
  option persist
  option accept-invalid-http-response

  timeout connect 20s
  timeout server 120s
  timeout client 120s
  timeout check 10s
  retries 3

listen stats    # Website with useful statistics about our HAProxy frontends and backends
  bind *:6969
  mode http
  stats enable
  stats realm HAProxy
  stats uri /
  stats auth haproxy:secure_password_goes_here

# SNI catchall ------------------------------------------------------------------------
# We're trying to save as many IP addresses as possible that's why we're running as many backends as possible on one IP address.
# Obviously, we're using SNI on the 443 frontend only

frontend f_sni_catchall
  mode http
  bind ip_address_1_here:80
  log global
  option httplog
  option accept-invalid-http-request

  capture request  header Host len 50
  capture request  header User-Agent len 150

  #--- abc
  use_backend b_sni_catchall     if { hdr(host) -i abc.go.com }
  use_backend b_sni_catchall     if { hdr(host) -i api.watchdisneyxd.go.com }
  use_backend b_sni_catchall     if { hdr(host) -i api.watchabc.go.com }

  #--- mylifetime
  use_backend b_sni_catchall     if { hdr(host) -i c.brightcove.com }

  #--- cbs
  use_backend b_sni_catchall     if { hdr(host) -i release.theplatform.com }

  #--- crackle
  use_backend b_sni_catchall     if { hdr(host) -i www.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i api.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i ios-api.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i ios-api-us.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i appletv.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i android-api-us.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i xboxone-api-us.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i ps3-api-us.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i roku-api.crackle.com }
  use_backend b_sni_catchall     if { hdr(host) -i content.uplynk.com }
  use_backend b_sni_catchall     if { hdr(host) -i content-us-east-1.uplynk.com }

  #--- crunchyroll
  use_backend b_sni_catchall     if { hdr(host) -i www.crunchyroll.com }
  use_backend b_sni_catchall     if { hdr(host) -i api.crunchyroll.com }

  #--- discovery
  use_backend b_sni_catchall     if { hdr(host) -i static.discoverymedia.com }

  #--- dramafever
  use_backend b_sni_catchall     if { hdr(host) -i www.dramafever.com }
  use_backend b_sni_catchall     if { hdr(host) -i token.dramafever.com }

  #--- fox
  use_backend b_sni_catchall     if { hdr(host) -i link.theplatform.com }

  #--- hulu
  use_backend b_sni_catchall     if { hdr(host) -i s.hulu.com }

  #--- iheart
  use_backend b_sni_catchall     if { hdr(host) -i www.iheart.com }

  #--- last.fm
  use_backend b_sni_catchall     if { hdr(host) -i www.last.fm }
  use_backend b_sni_catchall     if { hdr(host) -i ws.audioscrobbler.com }
  use_backend b_sni_catchall     if { hdr(host) -i ext.last.fm }

  #--- logotv
  use_backend b_sni_catchall     if { hdr(host) -i www.logotv.com }
  use_backend b_sni_catchall     if { hdr(host) -i activity.flux.com }

  #--- netflix 
  use_backend b_sni_catchall     if { hdr(host) -i www.netflix.com }
  use_backend b_sni_catchall     if { hdr(host) -i appboot.netflix.com }
  use_backend b_sni_catchall     if { hdr(host) -i cbp-us.nccp.netflix.com }
  use_backend b_sni_catchall     if { hdr(host) -i a248.e.akamai.net }

  #--- maxmind
  use_backend b_sni_catchall     if { hdr(host) -i j.maxmind.com }

  #--- mog
  use_backend b_sni_catchall     if { hdr(host) -i mog.com }

  #--- mtv
  use_backend b_sni_catchall     if { hdr(host) -i www.mtv.com }

  #--- nbc
  use_backend b_sni_catchall     if { hdr(host) -i video.nbcuni.com }
  use_backend b_sni_catchall     if { hdr(host) -i video.nbc.com }
  use_backend b_sni_catchall     if { hdr(host) -i video.syfy.com }

  #--- pandora
  use_backend b_sni_catchall     if { hdr(host) -i www.pandora.com }
  use_backend b_sni_catchall     if { hdr(host) -i mediaserver-sv5-rt-1.pandora.com }

  #--- pbs
  use_backend b_sni_catchall     if { hdr(host) -i urs.pbs.org }

  #--- raditaz
  use_backend b_sni_catchall     if { hdr(host) -i api.wipmania.com }

  #--- rdio
  use_backend b_sni_catchall     if { hdr(host) -i www.rdio.com }

  #--- smithsonian
  use_backend b_sni_catchall     if { hdr(host) -i www.smithsonianchannel.com }
  use_backend b_sni_catchall     if { hdr(host) -i once.unicornmedia.com }

  #--- spike
  use_backend b_sni_catchall     if { hdr(host) -i www.spike.com }
  use_backend b_sni_catchall     if { hdr(host) -i udat.mtvnservices.com }

  #--- southparkstudios
  use_backend b_sni_catchall     if { hdr(host) -i media.mtvnservices.com }

  #--- thewb
  use_backend b_sni_catchall     if { hdr(host) -i www.thewb.com }
  use_backend b_sni_catchall     if { hdr(host) -i media.cwtv.com }
  use_backend b_sni_catchall     if { hdr(host) -i pdl.warnerbros.com }
  use_backend b_sni_catchall     if { hdr(host) -i cdn.wwtv.warnerbros.com }

  #--- vevo
  use_backend b_sni_catchall     if { hdr(host) -i www.vevo.com }
  use_backend b_sni_catchall     if { hdr(host) -i sb.vevo.com }
  use_backend b_sni_catchall     if { hdr(host) -i videoplayer.vevo.com }

  #--- vh1
  use_backend b_sni_catchall     if { hdr(host) -i www.vh1.com }

  #--- yahoo screen
  use_backend b_sni_catchall     if { hdr(host) -i screen.yahoo.com }
  use_backend b_sni_catchall     if { hdr(host) -i geo.yahoo.com }
  use_backend b_sni_catchall     if { hdr(host) -i mvid.yql.yahoo.com }
  use_backend b_sni_catchall     if { hdr(host) -i hls.video.query.yahoo.com }

  default_backend b_sni_deadend

backend b_sni_catchall
  log global
  mode http
  option httplog
  option http-server-close

  #--- abc
  use-server abc.go.com              if { hdr(host) -i abc.go.com }
  server abc.go.com abc.go.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.watchdisneyxd.go.com    if { hdr(host) -i api.watchdisneyxd.go.com }
  server api.watchdisneyxd.go.com api.watchdisneyxd.go.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.watchabc.go.com    if { hdr(host) -i api.watchabc.go.com }
  server api.watchabc.go.com api.watchabc.go.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- cbs
  use-server release.theplatform.com     if { hdr(host) -i release.theplatform.com }
  server release.theplatform.com  release.theplatform.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- crackle
  use-server www.crackle.com             if { hdr(host) -i www.crackle.com }
  server www.crackle.com  www.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.crackle.com             if { hdr(host) -i api.crackle.com }
  server api.crackle.com api.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ios-api.crackle.com             if { hdr(host) -i ios-api.crackle.com }
  server ios-api.crackle.com ios-api.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ios-api-us.crackle.com             if { hdr(host) -i ios-api-us.crackle.com }
  server appletv.crackle.com appletv.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server appletv.crackle.com             if { hdr(host) -i appletv.crackle.com }
  server ios-api-us.crackle.com ios-api-us.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server android-api-us.crackle.com             if { hdr(host) -i android-api-us.crackle.com }
  server android-api-us.crackle.com android-api-us.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server xboxone-api-us.crackle.com             if { hdr(host) -i xboxone-api-us.crackle.com }
  server xboxone-api-us.crackle.com xboxone-api-us.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ps3-api-us.crackle.com             if { hdr(host) -i ps3-api-us.crackle.com }
  server ps3-api-us.crackle.com ps3-api-us.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server roku-api.crackle.com             if { hdr(host) -i roku-api.crackle.com }
  server roku-api.crackle.com roku-api.crackle.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server content.uplynk.com             if { hdr(host) -i content.uplynk.com }
  server content.uplynk.com content.uplynk.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server content-us-east-1.uplynk.com             if { hdr(host) -i content-us-east-1.uplynk.com }
  server content-us-east-1.uplynk.com content-us-east-1.uplynk.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- crunchyroll
  use-server www.crunchyroll.com             if { hdr(host) -i www.crunchyroll.com }
  server www.crunchyroll.com www.crunchyroll.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.crunchyroll.com             if { hdr(host) -i api.crunchyroll.com }
  server api.crunchyroll.com api.crunchyroll.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- discovery
  use-server static.discoverymedia.com             if { hdr(host) -i static.discoverymedia.com }
  server static.discoverymedia.com static.discoverymedia.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- dramafever
  use-server www.dramafever.com             if { hdr(host) -i www.dramafever.com }
  server www.dramafever.com www.dramafever.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server token.dramafever.com             if { hdr(host) -i token.dramafever.com }
  server token.dramafever.com token.dramafever.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- fox
  use-server link.theplatform.com             if { hdr(host) -i link.theplatform.com }
  server link.theplatform.com link.theplatform.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- hulu
  use-server s.hulu.com                 if { hdr(host) -i s.hulu.com }
  server s.hulu.com s.hulu.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- iheart
  use-server www.iheart.com             if { hdr(host) -i www.iheart.com }
  server www.iheart.com www.iheart.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- last.fm
  use-server www.last.fm                if { hdr(host) -i www.last.fm }
  server www.last.fm www.last.fm:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ws.audioscrobbler.com      if { hdr(host) -i ws.audioscrobbler.com }
  server ws.audioscrobbler.com ws.audioscrobbler.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ext.last.fm                if { hdr(host) -i ext.last.fm }
  server ext.last.fm ext.last.fm:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- logotv
  use-server www.logotv.com             if { hdr(host) -i www.logotv.com }
  server www.logotv.com www.logotv.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server activity.flux.com          if { hdr(host) -i activity.flux.com }
  server activity.flux.com activity.flux.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- maxmind
  use-server j.maxmind.com              if { hdr(host) -i j.maxmind.com }
  server j.maxmind.com j.maxmind.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- mog
  use-server mog.com                    if { hdr(host) -i mog.com }
  server mog.com mog.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- mtv
  use-server www.mtv.com                if { hdr(host) -i www.mtv.com }
  server www.mtv.com www.mtv.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- mylifetime
  use-server c.brightcove.com           if { hdr(host) -i c.brightcove.com }
  server c.brightcove.com  c.brightcove.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- nbc
  use-server video.nbcuni.com           if { hdr(host) -i video.nbcuni.com }
  server video.nbcuni.com video.nbcuni.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server video.nbc.com              if { hdr(host) -i video.nbc.com }
  server video.nbc.com video.nbc.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server video.syfy.com             if { hdr(host) -i video.syfy.com }
  server video.syfy.com video.syfy.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- netflix
  use-server www.netflix.com            if { hdr(host) -i www.netflix.com }
  server www.netflix.com www.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server appboot.netflix.com        if { hdr(host) -i appboot.netflix.com }
  server appboot.netflix.com appboot.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800
  
  use-server cbp-us.nccp.netflix.com    if { hdr(host) -i cbp-us.nccp.netflix.com }
  server cbp-us.nccp.netflix.com cbp-us.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server a248.e.akamai.net          if { hdr(host) -i a248.e.akamai.net }
  server a248.e.akamai.net a248.e.akamai.net:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- pandora
  use-server www.pandora.com            if { hdr(host) -i www.pandora.com }
  server www.pandora.com www.pandora.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server mediaserver-sv5-rt-1.pandora.com   if { hdr(host) -i mediaserver-sv5-rt-1.pandora.com }
  server mediaserver-sv5-rt-1.pandora.com mediaserver-sv5-rt-1.pandora.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- pbs
  use-server urs.pbs.org                if { hdr(host) -i urs.pbs.org }
  server urs.pbs.org urs.pbs.org:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- raditaz
  use-server api.wipmania.com           if { hdr(host) -i api.wipmania.com }
  server api.wipmania.com api.wipmania.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- rdio
  use-server www.rdio.com               if { hdr(host) -i www.rdio.com }
  server www.rdio.com www.rdio.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- smithsonian
  use-server www.smithsonianchannel.com     if { hdr(host) -i www.smithsonianchannel.com }
  server www.smithsonianchannel.com www.smithsonianchannel.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server once.unicornmedia.com      if { hdr(host) -i once.unicornmedia.com }
  server once.unicornmedia.com once.unicornmedia.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- southparkstudios
  use-server media.mtvnservices.com     if { hdr(host) -i media.mtvnservices.com }
  server media.mtvnservices.com media.mtvnservices.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- spike
  use-server www.spike.com              if { hdr(host) -i www.spike.com }
  server www.spike.com www.spike.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server udat.mtvnservices.com      if { hdr(host) -i udat.mtvnservices.com }
  server udat.mtvnservices.com udat.mtvnservices.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- thewb
  use-server www.thewb.com              if { hdr(host) -i www.thewb.com }
  server www.thewb.com www.thewb.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server media.cwtv.com             if { hdr(host) -i media.cwtv.com }
  server media.cwtv.com media.cwtv.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server pdl.warnerbros.com         if { hdr(host) -i pdl.warnerbros.com }
  server pdl.warnerbros.com pdl.warnerbros.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server cdn.wwtv.warnerbros.com    if { hdr(host) -i cdn.wwtv.warnerbros.com }
  server cdn.wwtv.warnerbros.com cdn.wwtv.warnerbros.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- vevo
  use-server www.vevo.com               if { hdr(host) -i www.vevo.com }
  server www.vevo.com www.vevo.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server sb.vevo.com                if { hdr(host) -i sb.vevo.com }
  server sb.vevo.com sb.vevo.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server videoplayer.vevo.com       if { hdr(host) -i videoplayer.vevo.com }
  server videoplayer.vevo.com videoplayer.vevo.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- vh1
  use-server www.vh1.com                if { hdr(host) -i www.vh1.com }
  server www.vh1.com www.vh1.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- yahoo screen
  use-server screen.yahoo.com           if { hdr(host) -i screen.yahoo.com }
  server screen.yahoo.com screen.yahoo.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server geo.yahoo.com              if { hdr(host) -i geo.yahoo.com }
  server geo.yahoo.com geo.yahoo.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server mvid.yql.yahoo.com         if { hdr(host) -i mvid.yql.yahoo.com }
  server mvid.yql.yahoo.com mvid.yql.yahoo.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server hls.video.query.yahoo.com  if { hdr(host) -i hls.video.query.yahoo.com }
  server hls.video.query.yahoo.com hls.video.query.yahoo.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_sni_catchall_ssl
  bind ip_address_1_here:443
  mode tcp
  log global
  option tcplog
  no option http-server-close

  tcp-request inspect-delay 5s
  tcp-request content accept         if { req_ssl_hello_type 1 }

  #--- abc
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i abc.go.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i api.watchdisneyxd.go.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i api.watchabc.go.com }

  #--- crackle
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i api.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i ios-api.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i ios-api-us.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i appletv.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i android-api-us.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i xboxone-api-us.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i ps3-api-us.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i roku-api.crackle.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i content.uplynk.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i content-us-east-1.uplynk.com }

  #-- crunchyroll
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.crunchyroll.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i api.crunchyroll.com }

  #--- last.fm
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.last.fm }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i ws.audioscrobbler.com }
 
  #--- pandora
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.pandora.com }

  #--- netflix
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.netflix.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i appboot.netflix.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i cbp-us.nccp.netflix.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i a248.e.akamai.net }



  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.cwtv.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.rdio.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.logotv.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i mog.com }
  use_backend b_sni_catchall_ssl     if { req_ssl_sni -i www.dramafever.com }

  #--- smithsonian
  use_backend b_sni_catchall_ssl           if { req_ssl_sni -i www.smithsonianchannel.com }
  use_backend b_sni_catchall_ssl           if { req_ssl_sni -i once.unicornmedia.com }

  #--- yahoo screen
  use_backend b_sni_catchall_ssl         if { req_ssl_sni -i screen.yahoo.com }
  use_backend b_sni_catchall_ssl         if { req_ssl_sni -i geo.yahoo.com }
  use_backend b_sni_catchall_ssl         if { req_ssl_sni -i mvid.yql.yahoo.com }
  use_backend b_sni_catchall_ssl         if { req_ssl_sni -i hls.video.query.yahoo.com }

  default_backend b_deadend_ssl

backend b_sni_catchall_ssl
  log global
  option tcplog
  mode tcp
  no option http-server-close
  no option accept-invalid-http-response

  #---abc
  use-server abc.go.com                     if { req_ssl_sni -i abc.go.com }
  server abc.go.com abc.go.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.watchdisneyxd.go.com           if { req_ssl_sni -i api.watchdisneyxd.go.com }
  server api.watchdisneyxd.go.com api.watchdisneyxd.go.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.watchabc.go.com                if { req_ssl_sni -i api.watchabc.go.com }
  server api.watchabc.go.com api.watchabc.go.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- crackle
  use-server www.crackle.com                       if { req_ssl_sni -i www.crackle.com }
  server www.crackle.com www.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.crackle.com                       if { req_ssl_sni -i api.crackle.com }
  server api.crackle.com api.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ios-api.crackle.com                       if { req_ssl_sni -i ios-api.crackle.com }
  server ios-api.crackle.com ios-api.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ios-api-us.crackle.com                       if { req_ssl_sni -i ios-api-us.crackle.com }
  server ios-api-us.crackle.com ios-api-us.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server appletv.crackle.com                       if { req_ssl_sni -i appletv.crackle.com }
  server appletv.crackle.com appletv.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server android-api-us.crackle.com                       if { req_ssl_sni -i android-api-us.crackle.com }
  server android-api-us.crackle.com android-api-us.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server xboxone-api-us.crackle.com                       if { req_ssl_sni -i xboxone-api-us.crackle.com }
  server xboxone-api-us.crackle.com xboxone-api-us.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ps3-api-us.crackle.com                       if { req_ssl_sni -i ps3-api-us.crackle.com }
  server ps3-api-us.crackle.com ps3-api-us.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server roku-api.crackle.com                       if { req_ssl_sni -i roku-api.crackle.com }
  server roku-api.crackle.com roku-api.crackle.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server content.uplynk.com                       if { req_ssl_sni -i content.uplynk.com }
  server content.uplynk.com content.uplynk.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server content-us-east-1.uplynk.com                       if { req_ssl_sni -i content-us-east-1.uplynk.com }
  server content-us-east-1.uplynk.com content-us-east-1.uplynk.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- pandora
  use-server www.pandora.com                       if { req_ssl_sni -i www.pandora.com }
  server www.pandora.com www.pandora.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- last.fm
  use-server www.last.fm                           if { req_ssl_sni -i www.last.fm }
  server www.last.fm www.last.fm:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server ws.audioscrobbler.com                           if { req_ssl_sni -i ws.audioscrobbler.com }
  server ws.audioscrobbler.com ws.audioscrobbler.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- cwtv
  use-server www.cwtv.com                          if { req_ssl_sni -i www.cwtv.com }
  server www.cwtv.com www.cwtv.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- crunchyroll
  use-server www.crunchyroll.com                   if { req_ssl_sni -i www.crunchyroll.com }
  server www.crunchyroll.com www.crunchyroll.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server api.crunchyroll.com                   if { req_ssl_sni -i api.crunchyroll.com }
  server api.crunchyroll.com api.crunchyroll.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- netflix
  use-server www.netflix.com                    if { req_ssl_sni -i www.netflix.com }
  server www.netflix.com www.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server appboot.netflix.com            if { req_ssl_sni -i appboot.netflix.com }
  server appboot.netflix.com appboot.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server cbp-us.nccp.netflix.com            if { req_ssl_sni -i cbp-us.nccp.netflix.com }
  server cbp-us.nccp.netflix.com cbp-us.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server a248.e.akamai.net              if { req_ssl_sni -i a248.e.akamai.net }
  server a248.e.akamai.net a248.e.akamai.net:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- rdio
  use-server www.rdio.com                          if { req_ssl_sni -i www.rdio.com }
  server www.rdio.com www.rdio.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- logotv
  use-server www.logotv.com                        if { req_ssl_sni -i www.logotv.com }
  server www.logotv.com www.logotv.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- mog
  use-server mog.com                               if { req_ssl_sni -i mog.com }
  server mog.com mog.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- dramafever
  use-server www.dramafever.com                    if { req_ssl_sni -i www.dramafever.com }
  server www.dramafever.com www.dramafever.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- raditaz
  use-server   api.wipmania.com                               if { req_ssl_sni -i api.wipmania.com }
  server api.wipmania.com api.wipmania.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- smithsonian
  use-server www.smithsonianchannel.com                               if { req_ssl_sni -i www.smithsonianchannel.com }
  server www.smithsonianchannel.com www.smithsonianchannel.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server once.unicornmedia.com                               if { req_ssl_sni -i once.unicornmedia.com }
  server once.unicornmedia.com once.unicornmedia.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  #--- yahoo
  use-server screen.yahoo.com                               if { req_ssl_sni -i screen.yahoo.com }
  server screen.yahoo.com screen.yahoo.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server geo.yahoo.com                               if { req_ssl_sni -i geo.yahoo.com }
  server geo.yahoo.com geo.yahoo.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server mvid.yql.yahoo.com if { req_ssl_sni -i mvid.yql.yahoo.com }
  server mvid.yql.yahoo.com mvid.yql.yahoo.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

  use-server hls.video.query.yahoo.com if { req_ssl_sni -i hls.video.query.yahoo.com }
  server hls.video.query.yahoo.com hls.video.query.yahoo.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# pandora ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_pandora_tuner
  log global
  option httplog
  bind ip_address_2_here:80
  mode http
  option http-server-close

  capture request  header Host len 50
  capture request  header User-Agent len 150

  default_backend b_pandora_tuner

backend b_pandora_tuner
  log global
  option httplog
  mode http
  option http-server-close

  server tuner.pandora.com tuner.pandora.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_pandora_tuner_ssl
  log global
  option tcplog
  bind ip_address_2_here:443
  mode tcp
  no option http-server-close

  default_backend b_pandora_tuner_ssl

backend b_pandora_tuner_ssl
  log global
  option tcplog
  mode tcp
  no option http-server-close
  no option accept-invalid-http-response

  server tuner.pandora.com tuner.pandora.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# hulu play ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend frontend_hulu_play
  log global
  option httplog
  bind ip_address_3_here:80
  mode http
  option http-server-close
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend backend_hulu_play

backend backend_hulu_play
  log global
  option httplog
  mode http
  option http-server-close
  server play.hulu.com play.hulu.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend frontend_hulu_play_ssl
  log global
  option tcplog
  bind ip_address_3_here:443
  mode tcp
  default_backend backend_hulu_play_ssl

backend backend_hulu_play_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server play.hulu.com play.hulu.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:signup  ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_signup
  log global
  option httplog
  bind ip_address_4_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_signup

backend b_netflix_signup
  log global
  option httplog
  mode http
  server signup.netflix.com signup.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_signup_ssl
  log global
  option tcplog
  bind ip_address_4_here:443
  mode tcp
  default_backend b_netflix_signup_ssl

backend b_netflix_signup_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server signup.netflix.com signup.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:api-global ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_api_global
  log global
  option httplog
  bind ip_address_5_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_api_global

backend b_netflix_api_global
  log global
  option httplog
  mode http
  server api-global.netflix.com api-global.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800
  
frontend f_netflix_api_global_ssl
  log global
  option tcplog
  bind ip_address_5_here:443
  mode tcp
  default_backend b_netflix_api_global_ssl

backend b_netflix_api_global_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server api-global.netflix.com api-global.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:movies ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_movies
  log global
  option httplog
  bind ip_address_6_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_movies

backend b_netflix_movies
  log global
  option httplog
  mode http
  server movies.netflix.com movies.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_movies_ssl
  log global
  option tcplog
  bind ip_address_6_here:443
  mode tcp
  default_backend b_netflix_movies_ssl

backend b_netflix_movies_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server movies.netflix.com movies.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:secure ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_secure
  log global
  option httplog
  bind ip_address_7_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_secure

backend b_netflix_secure
  log global
  option httplog
  mode http
  server secure.netflix.com secure.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_secure_ssl
  log global
  option tcplog
  bind ip_address_7_here:443
  mode tcp
  default_backend b_netflix_secure_ssl

backend b_netflix_secure_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server secure.netflix.com secure.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:moviecontrol ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_moviecontrol
  log global
  option httplog
  bind ip_address_8_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_moviecontrol

backend b_netflix_moviecontrol
  log global
  option httplog
  mode http
  server moviecontrol.netflix.com moviecontrol.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_moviecontrol_ssl
  log global
  option tcplog
  bind ip_address_8_here:443
  mode tcp
  default_backend b_netflix_moviecontrol_ssl

backend b_netflix_moviecontrol_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server moviecontrol.netflix.com moviecontrol.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:api ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_api
  log global
  option httplog
  bind ip_address_9_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_api

backend b_netflix_api
  log global
  option httplog
  mode http
  server api.netflix.com api.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_api_ssl
  log global
  option tcplog
  bind ip_address_9_here:443
  mode tcp
  default_backend b_netflix_api_ssl

backend b_netflix_api_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server api.netflix.com api.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:api-us ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_api_us
  log global
  option httplog
  bind ip_address_10_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_api_us

backend b_netflix_api_us
  log global
  option httplog
  mode http
  server api-us.netflix.com api-us.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_api_us_ssl
  log global
  option tcplog
  bind ip_address_10_here:443
  mode tcp
  default_backend b_netflix_api_us_ssl

backend b_netflix_api_us_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server api-us.netflix.com api-us.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:uiboot ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_uiboot
  log global
  option httplog
  bind ip_address_11_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_uiboot

backend b_netflix_uiboot
  log global
  option httplog
  mode http
  server uiboot.netflix.com uiboot.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_uiboot_ssl
  log global
  option tcplog
  bind ip_address_11_here:443
  mode tcp
  default_backend b_netflix_uiboot_ssl

backend b_netflix_uiboot_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server uiboot.netflix.com uiboot.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:cbp ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_cbp
  log global
  option httplog
  bind ip_address_12_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_cbp

backend b_netflix_cbp
  log global
  option httplog
  mode http
  server cbp.nccp.netflix.com cbp.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_cbp_ssl
  log global
  option tcplog
  bind ip_address_12_here:443
  mode tcp
  default_backend b_netflix_cbp_ssl

backend b_netflix_cbp_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server cbp.nccp.netflix.com cbp.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:ios ------------------------------------------------------------------------
# iOS devices use this domain.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_ios
  log global
  option httplog
  bind ip_address_13_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_ios

backend b_netflix_ios
  log global
  option httplog
  mode http
  server ios.nccp.netflix.com ios.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_ios_ssl
  log global
  option tcplog
  bind ip_address_13_here:443
  mode tcp
  default_backend b_netflix_ios_ssl

backend b_netflix_ios_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server ios.nccp.netflix.com ios.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:xbox ------------------------------------------------------------------------
# The Xbox 360 uses this domain and it doesn't support SNI. That's why this backend needs its own IP address.

frontend f_netflix_xbox
  log global
  option httplog
  bind ip_address_14_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_xbox

backend b_netflix_xbox
  log global
  option httplog
  mode http
  server xbox.nccp.netflix.com xbox.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_xbox_ssl
  log global
  option tcplog
  bind ip_address_14_here:443
  mode tcp
  default_backend b_netflix_xbox_ssl

backend b_netflix_xbox_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server xbox.nccp.netflix.com xbox.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:nrdp-31 ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.

frontend f_netflix_nrdp-31
  log global
  option httplog
  bind ip_address_15_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_nrdp-31

backend b_netflix_nrdp-31
  log global
  option httplog
  mode http
  server nccp-nrdp-31.cloud.netflix.net nccp-nrdp-31.cloud.netflix.net:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_nrdp-31_ssl
  log global
  option tcplog
  bind ip_address_15_here:443
  mode tcp
  default_backend b_netflix_nrdp-31_ssl

backend b_netflix_nrdp-31_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server nccp-nrdp-31.cloud.netflix.net nccp-nrdp-31.cloud.netflix.net:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:nintendo  ------------------------------------------------------------------------
# Nintendo Wii uses this domain and it doesn't support SNI. That's why this backend needs its own IP address.

frontend f_netflix_nintendo
  log global
  option httplog
  bind ip_address_16_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_nintendo

backend b_netflix_nintendo
  log global
  option httplog
  mode http
  server nintendo.nccp.netflix.com nintendo.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_nintendo_ssl
  log global
  option tcplog
  bind ip_address_16_here:443
  mode tcp
  default_backend b_netflix_nintendo_ssl

backend b_netflix_nintendo_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server nintendo.nccp.netflix.com nintendo.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:playstation ------------------------------------------------------------------------
# The PS3 uses this domain and it doesn't support SNI. That's why this backend needs its own IP address.

frontend f_netflix_playstation
  log global
  option httplog
  bind ip_address_17_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_playstation

backend b_netflix_playstation
  log global
  option httplog
  mode http
  server playstation.nccp.netflix.com playstation.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_playstation_ssl
  log global
  option tcplog
  bind ip_address_17_here:443
  mode tcp
  default_backend b_netflix_playstation_ssl

backend b_netflix_playstation_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server playstation.nccp.netflix.com playstation.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# netflix:nrdp ------------------------------------------------------------------------
# Some non-SNI-capable players use this domain, that's why this backend needs its own IP address.

frontend f_netflix_nrdp
  log global
  option httplog
  bind ip_address_18_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_nrdp

backend b_netflix_nrdp
  log global
  option httplog
  mode http
  server nrdp.nccp.netflix.com nrdp.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_nrdp_ssl
  log global
  option tcplog
  bind ip_address_18_here:443
  mode tcp
  default_backend b_netflix_nrdp_ssl

backend b_netflix_nrdp_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server nrdp.nccp.netflix.com nrdp.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800
  
# netflix:android  ------------------------------------------------------------------------
# Android uses this domain but some devices don't support SNI. That's why this backend needs its own IP address.
# You could try to add it to the SNI catchall (80/443) list if you don't have enough IP addresses.

frontend f_netflix_android
  log global
  option httplog
  bind ip_address_19_here:80
  mode http
  capture request  header Host len 50
  capture request  header User-Agent len 150
  default_backend b_netflix_android

backend b_netflix_android
  log global
  option httplog
  mode http
  server android.nccp.netflix.com android.nccp.netflix.com:80 check inter 10s fastinter 2s downinter 2s fall 1800

frontend f_netflix_android_ssl
  log global
  option tcplog
  bind ip_address_19_here:443
  mode tcp
  default_backend b_netflix_android_ssl

backend b_netflix_android_ssl
  log global
  option tcplog
  no option accept-invalid-http-response
  mode tcp
  server android.nccp.netflix.com android.nccp.netflix.com:443 check inter 10s fastinter 2s downinter 2s fall 1800

# deadend  ------------------------------------------------------------------------

backend b_deadend
  mode http
  log global
  option httplog

backend b_deadend_ssl
  mode tcp
  log global
  option tcplog
  no option accept-invalid-http-response
  no option http-server-close
  
  
  
  
  
  
  
  
  
  
